# std::deque è¯¦ç»†è§£æ

## ç›®å½•

1. [æ¦‚è¿°](#æ¦‚è¿°)
2. [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
3. [å†…å­˜ç»“æ„](#å†…å­˜ç»“æ„)
4. [æˆå‘˜å‡½æ•°è¯¦è§£](#æˆå‘˜å‡½æ•°è¯¦è§£)
5. [æ—¶é—´å¤æ‚åº¦](#æ—¶é—´å¤æ‚åº¦)
6. [ä½¿ç”¨åœºæ™¯](#ä½¿ç”¨åœºæ™¯)
7. [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
8. [æ³¨æ„äº‹é¡¹](#æ³¨æ„äº‹é¡¹)
9. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
10. [æ€»ç»“](#æ€»ç»“)

---

## æ¦‚è¿°

`std::deque`ï¼ˆåŒç«¯é˜Ÿåˆ—ï¼Œdouble-ended queueï¼‰æ˜¯ C++ æ ‡å‡†åº“æä¾›çš„**åºåˆ—å®¹å™¨**ï¼Œæ”¯æŒåœ¨ä¸¤ç«¯è¿›è¡Œå¿«é€Ÿæ’å…¥å’Œåˆ é™¤æ“ä½œã€‚

### å®šä¹‰ä½ç½®

```cpp
#include <deque>
```

### æ¨¡æ¿å£°æ˜

```cpp
template <class T, class Allocator = std::allocator<T>>
class deque;
```

- **T**: å…ƒç´ ç±»å‹
- **Allocator**: åˆ†é…å™¨ç±»å‹ï¼Œé»˜è®¤ä¸º `std::allocator<T>`

### ä¸ºä»€ä¹ˆé€‰æ‹© std::dequeï¼Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ğŸ“¦ std::deque çš„ä¼˜åŠ¿                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… åŒç«¯æ“ä½œï¼šO(1) æ—¶é—´åœ¨å¤´å°¾æ’å…¥åˆ é™¤          â”‚
â”‚ âœ… éšæœºè®¿é—®ï¼šO(1) æ—¶é—´è®¿é—®ä»»æ„å…ƒç´             â”‚
â”‚ âœ… æ— éœ€æ•´ä½“æ‹·è´ï¼šæ‰©å®¹æ—¶ä¸éœ€è¦ç§»åŠ¨æ‰€æœ‰å…ƒç´      â”‚
â”‚ âœ… å†…å­˜çµæ´»ï¼šåˆ†æ®µå­˜å‚¨ï¼Œé¿å…å¤§å—è¿ç»­å†…å­˜       â”‚
â”‚ âœ… è¿­ä»£å™¨ç¨³å®šï¼šä¸­é—´æ’å…¥åˆ é™¤ä¸å½±å“å…¶ä»–è¿­ä»£å™¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| åŒç«¯æ“ä½œ | O(1) æ—¶é—´åœ¨å¤´éƒ¨å’Œå°¾éƒ¨æ’å…¥åˆ é™¤ |
| éšæœºè®¿é—® | æ”¯æŒ operator[]ï¼ŒO(1) æ—¶é—´ |
| å†…å­˜ç»“æ„ | åˆ†æ®µè¿ç»­å†…å­˜ï¼ˆå¤šä¸ªå›ºå®šå¤§å°æ•°ç»„å—ï¼‰ |
| è‡ªåŠ¨æ‰©å®¹ | æ— éœ€æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼Œæ‰©å®¹æ—¶ä¸ç§»åŠ¨ç°æœ‰å…ƒç´  |
| è¿­ä»£å™¨ | éšæœºè®¿é—®è¿­ä»£å™¨ï¼Œä½†æ¯” vector ç¨æ…¢ |

### 1. åŒç«¯é«˜æ•ˆæ“ä½œ

deque æœ€å¤§çš„ç‰¹ç‚¹æ˜¯åœ¨**ä¸¤ç«¯**éƒ½èƒ½è¿›è¡Œ O(1) æ—¶é—´çš„æ’å…¥å’Œåˆ é™¤ï¼š

```cpp
std::deque<int> dq;

// å°¾éƒ¨æ“ä½œ - O(1)
dq.push_back(1);
dq.pop_back();

// å¤´éƒ¨æ“ä½œ - O(1)
dq.push_front(2);
dq.pop_front();
```

### 2. éšæœºè®¿é—®

æ”¯æŒ O(1) æ—¶é—´çš„éšæœºè®¿é—®ï¼Œä¸ vector ç±»ä¼¼ï¼š

```cpp
std::deque<int> dq = {10, 20, 30, 40, 50};
int x = dq[2];     // 30, O(1)
int y = dq.at(3);  // 40, O(1) å¸¦è¾¹ç•Œæ£€æŸ¥
```

### 3. åˆ†æ®µå­˜å‚¨

deque ä½¿ç”¨**åˆ†æ®µè¿ç»­**çš„å†…å­˜ç»“æ„ï¼Œè€Œé vector çš„å•ä¸€è¿ç»­å—ï¼š

```
vector å†…å­˜ç»“æ„ï¼ˆå•ä¸€è¿ç»­å—ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
â”‚ 10 â”‚ 20 â”‚ 30 â”‚ 40 â”‚ 50 â”‚ 60 â”‚ 70 â”‚ 80 â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜

deque å†…å­˜ç»“æ„ï¼ˆåˆ†æ®µè¿ç»­ï¼‰ï¼š
     å—1          å—2          å—3
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
â”‚ 10 â”‚ 20 â”‚  â”‚ 30 â”‚ 40 â”‚  â”‚ 50 â”‚ 60 â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜
     â†‘            â†‘            â†‘
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          ä¸­å¤®æ§åˆ¶æ•°ç»„
```

---

## å†…å­˜ç»“æ„

### deque çš„å†…éƒ¨å®ç°

deque ä½¿ç”¨**ä¸­å¤®æ§åˆ¶æ•°ç»„**ï¼ˆmapï¼‰ç®¡ç†å¤šä¸ªå›ºå®šå¤§å°çš„å†…å­˜å—ï¼š

```
ä¸­å¤®æ§åˆ¶æ•°ç»„ï¼ˆæŒ‡é’ˆæ•°ç»„ï¼‰
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
â”‚ p0 â”‚ p1 â”‚ p2 â”‚ p3 â”‚ p4 â”‚
â””â”€â”‚â”€â”€â”´â”€â”‚â”€â”€â”´â”€â”‚â”€â”€â”´â”€â”‚â”€â”€â”´â”€â”‚â”€â”€â”˜
  â”‚    â”‚    â”‚    â”‚    â”‚
  â†“    â†“    â†“    â†“    â†“
å—0   å—1   å—2   å—3   å—4
â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â”
â”‚  â”‚ â”‚10â”‚ â”‚30â”‚ â”‚50â”‚ â”‚  â”‚
â”‚  â”‚ â”‚20â”‚ â”‚40â”‚ â”‚60â”‚ â”‚  â”‚
â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜

ç‰¹ç‚¹ï¼š
- æ¯ä¸ªå—å¤§å°å›ºå®šï¼ˆå¦‚512å­—èŠ‚ï¼‰
- ä¸­å¤®æ•°ç»„å­˜å‚¨æŒ‡å‘å„å—çš„æŒ‡é’ˆ
- å¯åœ¨ä¸¤ç«¯æ‰©å±•æ–°å—
```

### æ‰©å®¹æœºåˆ¶

```cpp
// vector æ‰©å®¹ï¼šéœ€è¦æ‹·è´æ‰€æœ‰å…ƒç´ 
vector: [1,2,3,4] â†’ æ‰©å®¹ â†’ [1,2,3,4,_,_,_,_] (éœ€è¦æ‹·è´)

// deque æ‰©å®¹ï¼šåªéœ€æ·»åŠ æ–°å—
deque: [å—1][å—2] â†’ æ‰©å®¹ â†’ [å—1][å—2][å—3] (æ— éœ€æ‹·è´)
```

---

## ä¸vectorå¯¹æ¯”

| ç‰¹æ€§ | std::vector | std::deque |
|------|-------------|------------|
| éšæœºè®¿é—® | O(1) | O(1) |
| å°¾éƒ¨æ’å…¥/åˆ é™¤ | O(1)* | O(1) |
| å¤´éƒ¨æ’å…¥/åˆ é™¤ | O(n) | **O(1)** |
| ä¸­é—´æ’å…¥/åˆ é™¤ | O(n) | O(n) |
| å†…å­˜ç»“æ„ | å•ä¸€è¿ç»­å— | åˆ†æ®µè¿ç»­ |
| æ‰©å®¹ | éœ€è¦æ•´ä½“æ‹·è´ | æ— éœ€æ‹·è´ |

*æ‘Šé”€å¸¸æ•°æ—¶é—´

## æˆå‘˜å‡½æ•°è¯¦è§£

### æ„é€ å‡½æ•°

```cpp
// 1. é»˜è®¤æ„é€ 
std::deque<int> dq1;

// 2. æŒ‡å®šå¤§å°æ„é€ 
std::deque<int> dq2(5);        // 5ä¸ªé»˜è®¤å€¼

// 3. æŒ‡å®šå¤§å°å’Œå€¼æ„é€ 
std::deque<int> dq3(5, 10);    // 5ä¸ª10

// 4. èŒƒå›´æ„é€ 
std::vector<int> v = {1, 2, 3};
std::deque<int> dq4(v.begin(), v.end());

// 5. åˆå§‹åŒ–åˆ—è¡¨æ„é€ 
std::deque<int> dq5 = {1, 2, 3, 4, 5};

// 6. æ‹·è´æ„é€ 
std::deque<int> dq6(dq5);
```

### å…ƒç´ è®¿é—®

| å‡½æ•° | å¤æ‚åº¦ | è¯´æ˜ |
|------|--------|------|
| `operator[]` | O(1) | éšæœºè®¿é—®ï¼ˆæ— æ£€æŸ¥ï¼‰ |
| `at(index)` | O(1) | éšæœºè®¿é—®ï¼ˆæœ‰æ£€æŸ¥ï¼‰ |
| `front()` | O(1) | è®¿é—®é¦–å…ƒç´  |
| `back()` | O(1) | è®¿é—®å°¾å…ƒç´  |
| `begin()` / `end()` | O(1) | éšæœºè®¿é—®è¿­ä»£å™¨ |

```cpp
std::deque<int> dq = {10, 20, 30, 40, 50};

// éšæœºè®¿é—®
int x = dq[2];     // 30ï¼Œæ— è¾¹ç•Œæ£€æŸ¥
int y = dq.at(3);  // 40ï¼Œæœ‰è¾¹ç•Œæ£€æŸ¥

// é¦–å°¾è®¿é—®
int first = dq.front();  // 10
int last = dq.back();    // 50
```

### ä¿®æ”¹æ“ä½œ

| å‡½æ•° | å¤æ‚åº¦ | è¯´æ˜ |
|------|--------|------|
| `push_back(val)` | O(1) | å°¾éƒ¨æ’å…¥ |
| `push_front(val)` | O(1) | å¤´éƒ¨æ’å…¥ |
| `pop_back()` | O(1) | å°¾éƒ¨åˆ é™¤ |
| `pop_front()` | O(1) | å¤´éƒ¨åˆ é™¤ |
| `insert(it, val)` | O(n) | ä½ç½®æ’å…¥ |
| `erase(it)` | O(n) | ä½ç½®åˆ é™¤ |
| `emplace_back(args)` | O(1) | å°¾éƒ¨åŸä½æ„é€  |
| `emplace_front(args)` | O(1) | å¤´éƒ¨åŸä½æ„é€  |

```cpp
std::deque<int> dq;

// åŒç«¯æ’å…¥
dq.push_back(1);   // {1}
dq.push_front(0);  // {0, 1}

// åŒç«¯åˆ é™¤
dq.pop_back();     // {0}
dq.pop_front();    // {}

// åŸä½æ„é€ 
dq.emplace_back(10);
dq.emplace_front(5);

// ä½ç½®æ’å…¥/åˆ é™¤
auto it = dq.begin() + 1;
dq.insert(it, 7);  // åœ¨ä½ç½®1æ’å…¥7
dq.erase(it);      // åˆ é™¤ä½ç½®1
```

## æ—¶é—´å¤æ‚åº¦

| æ“ä½œ | å¤æ‚åº¦ |
|------|--------|
| éšæœºè®¿é—® | O(1) |
| å¤´/å°¾æ’å…¥ | O(1) |
| å¤´/å°¾åˆ é™¤ | O(1) |
| ä¸­é—´æ’å…¥/åˆ é™¤ | O(n) |

## ä½¿ç”¨åœºæ™¯

### 1. æ»‘åŠ¨çª—å£ç®—æ³•

```cpp
// æ‰¾å‡ºæ¯ä¸ªçª—å£çš„æœ€å¤§å€¼
std::vector<int> maxSlidingWindow(const std::vector<int>& nums, int k) {
    std::deque<int> dq;  // å­˜å‚¨ç´¢å¼•
    std::vector<int> result;

    for (int i = 0; i < nums.size(); ++i) {
        // ç§»é™¤è¶…å‡ºçª—å£çš„å…ƒç´ 
        while (!dq.empty() && dq.front() <= i - k) {
            dq.pop_front();
        }

        // ç§»é™¤è¾ƒå°çš„å…ƒç´ 
        while (!dq.empty() && nums[dq.back()] < nums[i]) {
            dq.pop_back();
        }

        dq.push_back(i);

        // è®°å½•çª—å£æœ€å¤§å€¼
        if (i >= k - 1) {
            result.push_back(nums[dq.front()]);
        }
    }

    return result;
}
```

### 2. é˜Ÿåˆ—å®ç°

```cpp
class Queue {
private:
    std::deque<int> data;

public:
    void enqueue(int val) {
        data.push_back(val);  // O(1)
    }

    int dequeue() {
        int val = data.front();  // O(1)
        data.pop_front();        // O(1)
        return val;
    }

    bool empty() const {
        return data.empty();
    }
};
```

### 3. åŒç«¯é˜Ÿåˆ—ï¼ˆDequeï¼‰å®ç°

```cpp
class Deque {
private:
    std::deque<int> data;

public:
    void push_front(int val) { data.push_front(val); }
    void push_back(int val) { data.push_back(val); }
    int pop_front() { int v = data.front(); data.pop_front(); return v; }
    int pop_back() { int v = data.back(); data.pop_back(); return v; }
    int front() const { return data.front(); }
    int back() const { return data.back(); }
};
```

### 4. ç¼“å†²åŒºç®¡ç†

```cpp
class CircularBuffer {
private:
    std::deque<int> buffer;
    const size_t MAX_SIZE = 100;

public:
    void add(int val) {
        buffer.push_back(val);
        if (buffer.size() > MAX_SIZE) {
            buffer.pop_front();  // O(1) ç§»é™¤æœ€æ—§çš„å…ƒç´ 
        }
    }

    std::vector<int> get_all() const {
        return std::vector<int>(buffer.begin(), buffer.end());
    }
};
```

---

## æ€§èƒ½ä¼˜åŒ–

### 1. é¿å…é¢‘ç¹çš„ä¸­é—´æ’å…¥åˆ é™¤

```cpp
// âŒ ä½æ•ˆï¼šé¢‘ç¹ä¸­é—´æ“ä½œ
std::deque<int> dq = {1, 2, 3, 4, 5};
for (int i = 0; i < 1000; ++i) {
    dq.insert(dq.begin() + 2, i);  // O(n)
}

// âœ… é«˜æ•ˆï¼šä½¿ç”¨ vector æˆ– list
std::vector<int> v = {1, 2, 3, 4, 5};
// æˆ–
std::list<int> l = {1, 2, 3, 4, 5};
```

### 2. é¢„ç•™ç©ºé—´

```cpp
std::deque<int> dq;
// deque æ²¡æœ‰ reserve()ï¼Œä½†å¯ä»¥é¢„å…ˆæ„é€ 
std::deque<int> dq2(1000);  // é¢„å…ˆåˆ†é…1000ä¸ªå…ƒç´ 
```

### 3. é¿å…é¢‘ç¹çš„è¿­ä»£å™¨å¤±æ•ˆ

```cpp
std::deque<int> dq = {1, 2, 3, 4, 5};

// âŒ è¿­ä»£å™¨å¯èƒ½å¤±æ•ˆ
auto it = dq.begin();
dq.push_front(0);  // è¿­ä»£å™¨å¯èƒ½å¤±æ•ˆ

// âœ… é‡æ–°è·å–è¿­ä»£å™¨
it = dq.begin();
```

---

## æ³¨æ„äº‹é¡¹

### 1. è¿­ä»£å™¨å¤±æ•ˆè§„åˆ™

```cpp
std::deque<int> dq = {1, 2, 3, 4, 5};
auto it = dq.begin() + 2;

// âŒ å¤´å°¾æ“ä½œå¯èƒ½ä½¿è¿­ä»£å™¨å¤±æ•ˆ
dq.push_back(6);   // è¿­ä»£å™¨å¯èƒ½å¤±æ•ˆ
dq.push_front(0);  // è¿­ä»£å™¨å¯èƒ½å¤±æ•ˆ

// âŒ ä¸­é—´æ“ä½œä½¿æ‰€æœ‰è¿­ä»£å™¨å¤±æ•ˆ
dq.insert(dq.begin() + 1, 99);  // æ‰€æœ‰è¿­ä»£å™¨å¤±æ•ˆ
dq.erase(dq.begin() + 1);       // æ‰€æœ‰è¿­ä»£å™¨å¤±æ•ˆ
```

### 2. ä¸ä¿è¯å†…å­˜è¿ç»­

```cpp
std::deque<int> dq = {1, 2, 3};

// âŒ deque æ²¡æœ‰ data() æ–¹æ³•
// int* ptr = dq.data();

// âœ… ä½¿ç”¨è¿­ä»£å™¨è®¿é—®
for (auto it = dq.begin(); it != dq.end(); ++it) {
    std::cout << *it << " ";
}
```

### 3. éšæœºè®¿é—®æ¯” vector ç¨æ…¢

```cpp
// deque çš„ operator[] éœ€è¦è®¡ç®—å—ç´¢å¼•
// æ¯” vector å¤šä¸€æ¬¡é—´æ¥è®¿é—®ï¼Œä½†ä»ç„¶æ˜¯ O(1)

std::deque<int> dq(1000000);
int x = dq[500000];  // O(1) ä½†æ¯” vector ç¨æ…¢
```

### 4. å†…å­˜å¼€é”€

```cpp
// deque éœ€è¦é¢å¤–çš„ä¸­å¤®æ§åˆ¶æ•°ç»„
// å†…å­˜å¼€é”€æ¯” vector ç•¥å¤§

std::deque<int> dq;
// å¤§çº¦éœ€è¦ sizeof(int) * n + é¢å¤–æŒ‡é’ˆå¼€é”€
```

---

## å¸¸è§é—®é¢˜

### Q1: deque å’Œ vector çš„åŒºåˆ«ï¼Ÿ

| ç‰¹æ€§ | std::vector | std::deque |
|------|-------------|------------|
| éšæœºè®¿é—® | O(1) | O(1) |
| å°¾éƒ¨æ’å…¥/åˆ é™¤ | O(1)* | O(1) |
| å¤´éƒ¨æ’å…¥/åˆ é™¤ | O(n) | **O(1)** |
| ä¸­é—´æ’å…¥/åˆ é™¤ | O(n) | O(n) |
| å†…å­˜ç»“æ„ | å•ä¸€è¿ç»­å— | åˆ†æ®µè¿ç»­ |
| æ‰©å®¹ | éœ€è¦æ•´ä½“æ‹·è´ | æ— éœ€æ‹·è´ |
| ç¼“å­˜å‹å¥½ | âœ… | âŒ |

### Q2: deque å’Œ list çš„åŒºåˆ«ï¼Ÿ

| ç‰¹æ€§ | std::deque | std::list |
|------|------------|-----------|
| éšæœºè®¿é—® | O(1) | O(n) |
| å¤´å°¾æ“ä½œ | O(1) | O(1) |
| ä¸­é—´æ“ä½œ | O(n) | O(1) |
| å†…å­˜è¿ç»­ | éƒ¨åˆ† | âŒ |
| è¿­ä»£å™¨ç¨³å®š | âŒ | âœ… |

### Q3: ä½•æ—¶ä½¿ç”¨ dequeï¼Ÿ

âœ… **é€‚åˆ**ï¼š
- éœ€è¦åœ¨ä¸¤ç«¯é¢‘ç¹æ’å…¥åˆ é™¤
- å®ç°é˜Ÿåˆ—æˆ–åŒç«¯é˜Ÿåˆ—
- æ»‘åŠ¨çª—å£ç®—æ³•
- ä¸å¸Œæœ› vector æ‰©å®¹æ—¶çš„æ‹·è´å¼€é”€

âŒ **ä¸é€‚åˆ**ï¼š
- ä¸»è¦åœ¨ä¸­é—´æ“ä½œ â†’ ä½¿ç”¨ list
- éœ€è¦æœ€æè‡´çš„éšæœºè®¿é—®æ€§èƒ½ â†’ ä½¿ç”¨ vector
- éœ€è¦è¿­ä»£å™¨ç¨³å®šæ€§ â†’ ä½¿ç”¨ list
- æ•°æ®é‡å¾ˆå° â†’ vector å¯èƒ½æ›´ç®€å•

### Q4: deque çš„æ‰©å®¹æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ

```cpp
// vector æ‰©å®¹ï¼šéœ€è¦æ‹·è´æ‰€æœ‰å…ƒç´ 
// å®¹é‡ç¿»å€æ—¶ï¼Œéœ€è¦ O(n) æ—¶é—´

// deque æ‰©å®¹ï¼šåªéœ€æ·»åŠ æ–°å—
// æ·»åŠ æ–°å—æ—¶ï¼Œåªéœ€ O(1) æ—¶é—´
// è¿™æ˜¯ deque ç›¸æ¯” vector çš„ä¼˜åŠ¿

std::deque<int> dq;
for (int i = 0; i < 1000000; ++i) {
    dq.push_back(i);  // æ‘Šé”€ O(1)ï¼Œæ— éœ€å¤§è§„æ¨¡æ‹·è´
}
```

### Q5: å¦‚ä½•åœ¨ deque ä¸­è¿›è¡Œé«˜æ•ˆçš„èŒƒå›´æ“ä½œï¼Ÿ

```cpp
std::deque<int> dq = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};

// åˆ é™¤èŒƒå›´
dq.erase(dq.begin() + 2, dq.begin() + 5);  // åˆ é™¤ [2, 5)

// æ’å…¥èŒƒå›´
std::vector<int> v = {100, 200, 300};
dq.insert(dq.begin() + 2, v.begin(), v.end());

// æ¸…ç©º
dq.clear();
```

---

## æ€»ç»“

### ä½•æ—¶ä½¿ç”¨ std::deque

âœ… **é€‚åˆ**ï¼š
- éœ€è¦åœ¨ä¸¤ç«¯é¢‘ç¹æ’å…¥åˆ é™¤
- å®ç°é˜Ÿåˆ—æˆ–åŒç«¯é˜Ÿåˆ—
- æ»‘åŠ¨çª—å£ç®—æ³•
- ä¸å¸Œæœ› vector æ‰©å®¹æ—¶çš„æ‹·è´å¼€é”€

âŒ **ä¸é€‚åˆ**ï¼š
- ä¸»è¦åœ¨ä¸­é—´æ“ä½œ â†’ ä½¿ç”¨ list
- éœ€è¦æœ€æè‡´çš„éšæœºè®¿é—®æ€§èƒ½ â†’ ä½¿ç”¨ vector
- éœ€è¦è¿­ä»£å™¨ç¨³å®šæ€§ â†’ ä½¿ç”¨ list

### æœ€ä½³å®è·µ

1. **éœ€è¦åŒç«¯æ“ä½œæ—¶ä¼˜å…ˆé€‰æ‹© deque**
2. **é¿å…é¢‘ç¹çš„ä¸­é—´æ’å…¥åˆ é™¤**
3. **æ³¨æ„è¿­ä»£å™¨å¤±æ•ˆè§„åˆ™**
4. **æ€§èƒ½å…³é”®ä»£ç ä¼˜å…ˆè€ƒè™‘ vector**
5. **åˆ©ç”¨ deque çš„æ— æ‹·è´æ‰©å®¹ç‰¹æ€§**

---

## å‚è€ƒæ–‡æ¡£
- [cppreference - std::deque](https://en.cppreference.com/w/cpp/container/deque)

